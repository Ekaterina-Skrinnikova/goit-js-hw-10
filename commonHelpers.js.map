{"version":3,"file":"commonHelpers.js","sources":["../src/js/convertDate.js","../src/js/1-timer.js"],"sourcesContent":["export default function convertMs(ms) {\n  // Number of milliseconds per unit of time\n  const second = 1000;\n  const minute = second * 60;\n  const hour = minute * 60;\n  const day = hour * 24;\n\n  // Remaining days\n  const days = addLeadingZero(Math.floor(ms / day));\n  // Remaining hours\n  const hours = addLeadingZero(Math.floor((ms % day) / hour));\n  // Remaining minutes\n  const minutes = addLeadingZero(Math.floor(((ms % day) % hour) / minute));\n  // Remaining seconds\n  const seconds = addLeadingZero(\n    Math.floor((((ms % day) % hour) % minute) / second)\n  );\n\n  return { days, hours, minutes, seconds };\n}\n\nfunction addLeadingZero(value) {\n  return String(value).padStart(2, '0');\n}\n","import flatpickr from 'flatpickr';\nimport 'flatpickr/dist/flatpickr.min.css';\nimport convertMs from './convertDate';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nconst inputEl = document.querySelector('#datetime-picker');\nconst startBtn = document.querySelector('button[data-start]');\nconst valueDays = document.querySelector('span[data-days]');\nconst valueHours = document.querySelector('span[data-hours]');\nconst valueMinutes = document.querySelector('span[data-minutes]');\nconst valueSeconds = document.querySelector('span[data-seconds]');\n\nlet deltaDate = 0;\nlet intervalId = null;\n\nstartBtn.setAttribute('disabled', true);\n\nflatpickr('#datetime-picker', {\n  enableTime: true,\n  time_24hr: true,\n  defaultDate: new Date(),\n  minuteIncrement: 1,\n  onClose(selectedDates) {\n    console.log(selectedDates[0]);\n    startDeltaDate(selectedDates[0]);\n  },\n});\n\nstartBtn.addEventListener('click', onBtnClick);\n\nfunction onBtnClick() {\n  const intervalId = setInterval(() => {\n    startBtn.setAttribute('disabled', true);\n    inputEl.setAttribute('disabled', true);\n\n    deltaDate -= 1000;\n\n    if (deltaDate <= 0) {\n      clearInterval(intervalId);\n      startBtn.removeAttribute('disabled');\n      inputEl.removeAttribute('disabled');\n      return;\n    } else {\n      updateClockFace(convertMs(deltaDate));\n    }\n  }, 1000);\n}\n\nfunction startDeltaDate(selectedDate) {\n  const currentDate = Date.now();\n\n  if (selectedDate < currentDate) {\n    startBtn.setAttribute('disabled', true);\n    return iziToast.error({\n      message: 'Please choose a date in the future',\n      messageColor: '',\n      messageSize: '25',\n      backgroundColor: '#EF4040',\n      balloon: true,\n      theme: 'light',\n      close: true,\n      closeOnEscape: true,\n      closeOnClick: true,\n      overlay: true,\n      overlayClose: true,\n    });\n  }\n\n  deltaDate = selectedDate.getTime() - currentDate;\n  updateClockFace(convertMs(deltaDate));\n  startBtn.removeAttribute('disabled');\n}\n\nfunction updateClockFace(components) {\n  valueDays.textContent = components.days;\n  valueHours.textContent = components.hours;\n  valueMinutes.textContent = components.minutes;\n  valueSeconds.textContent = components.seconds;\n}\n"],"names":["convertMs","ms","days","addLeadingZero","hours","minutes","seconds","value","inputEl","startBtn","valueDays","valueHours","valueMinutes","valueSeconds","deltaDate","flatpickr","selectedDates","startDeltaDate","onBtnClick","intervalId","updateClockFace","selectedDate","currentDate","iziToast","components"],"mappings":"2GAAe,SAASA,EAAUC,EAAI,CAQpC,MAAMC,EAAOC,EAAe,KAAK,MAAMF,EAAK,KAAG,CAAC,EAE1CG,EAAQD,EAAe,KAAK,MAAOF,EAAK,MAAO,IAAI,CAAC,EAEpDI,EAAUF,EAAe,KAAK,MAAQF,EAAK,MAAO,KAAQ,GAAM,CAAC,EAEjEK,EAAUH,EACd,KAAK,MAASF,EAAK,MAAO,KAAQ,IAAU,GAAM,CACtD,EAEE,MAAO,CAAE,KAAAC,EAAM,MAAAE,EAAO,QAAAC,EAAS,QAAAC,CAAO,CACxC,CAEA,SAASH,EAAeI,EAAO,CAC7B,OAAO,OAAOA,CAAK,EAAE,SAAS,EAAG,GAAG,CACtC,CCjBA,MAAMC,EAAU,SAAS,cAAc,kBAAkB,EACnDC,EAAW,SAAS,cAAc,oBAAoB,EACtDC,EAAY,SAAS,cAAc,iBAAiB,EACpDC,EAAa,SAAS,cAAc,kBAAkB,EACtDC,EAAe,SAAS,cAAc,oBAAoB,EAC1DC,EAAe,SAAS,cAAc,oBAAoB,EAEhE,IAAIC,EAAY,EAGhBL,EAAS,aAAa,WAAY,EAAI,EAEtCM,EAAU,mBAAoB,CAC5B,WAAY,GACZ,UAAW,GACX,YAAa,IAAI,KACjB,gBAAiB,EACjB,QAAQC,EAAe,CACrB,QAAQ,IAAIA,EAAc,CAAC,CAAC,EAC5BC,EAAeD,EAAc,CAAC,CAAC,CAChC,CACH,CAAC,EAEDP,EAAS,iBAAiB,QAASS,CAAU,EAE7C,SAASA,GAAa,CACpB,MAAMC,EAAa,YAAY,IAAM,CAMnC,GALAV,EAAS,aAAa,WAAY,EAAI,EACtCD,EAAQ,aAAa,WAAY,EAAI,EAErCM,GAAa,IAETA,GAAa,EAAG,CAClB,cAAcK,CAAU,EACxBV,EAAS,gBAAgB,UAAU,EACnCD,EAAQ,gBAAgB,UAAU,EAClC,MACN,MACMY,EAAgBpB,EAAUc,CAAS,CAAC,CAEvC,EAAE,GAAI,CACT,CAEA,SAASG,EAAeI,EAAc,CACpC,MAAMC,EAAc,KAAK,MAEzB,GAAID,EAAeC,EACjB,OAAAb,EAAS,aAAa,WAAY,EAAI,EAC/Bc,EAAS,MAAM,CACpB,QAAS,qCACT,aAAc,GACd,YAAa,KACb,gBAAiB,UACjB,QAAS,GACT,MAAO,QACP,MAAO,GACP,cAAe,GACf,aAAc,GACd,QAAS,GACT,aAAc,EACpB,CAAK,EAGHT,EAAYO,EAAa,QAAS,EAAGC,EACrCF,EAAgBpB,EAAUc,CAAS,CAAC,EACpCL,EAAS,gBAAgB,UAAU,CACrC,CAEA,SAASW,EAAgBI,EAAY,CACnCd,EAAU,YAAcc,EAAW,KACnCb,EAAW,YAAca,EAAW,MACpCZ,EAAa,YAAcY,EAAW,QACtCX,EAAa,YAAcW,EAAW,OACxC"}